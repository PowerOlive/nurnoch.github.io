<!DOCTYPE html> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<html lang="zh">
<head>
        <title>wwt <small>Python</small></title>
        <!-- Fonts -->
        <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=The+Girl+Next+Door' rel='stylesheet' type='text/css'>
        
        <!-- CSS -->
        <link rel="stylesheet" href="http://www.wengweitao.com/theme/css/main.css" type="text/css" />
        <link rel="stylesheet" href="http://www.wengweitao.com/theme/css/pygments.css" type="text/css" />
        <link rel="stylesheet" href="http://www.wengweitao.com/theme/css/font-awesome.css" type="text/css" />
        <meta charset="utf-8" />
      

        <!-- Javascript-->
        <script src="http://www.wengweitao.com/theme/js/invisible-menu-scroll.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
        <script type="text/javascript"> 
          $(function() {
            invisibleMenu();
          });
        </script> 
</head>

<body id="index" class="home">
     <div class="navigation">
        <ol class="nav">
          <li class="current"><a href="http://www.wengweitao.com">首页</a> </li>
          <li><a href="http://www.wengweitao.com/archives.html">归档</a></li>
          <li><a href="http://www.wengweitao.com/categories.html">分类</a> </li>
          <li><a href="http://www.wengweitao.com/pages/about-me">About me</a> </li>
        </ol>
      </div>
        <header id="banner" class="body">
                <div class="banner"><a href="http://www.wengweitao.com">wwt <strong></strong></a></div>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="http://www.wengweitao.com/category/du-shu-bi-ji.html">读书笔记</a></li>
            <li><a href="http://www.wengweitao.com/category/python.html">Python</a></li>
            <li><a href="http://www.wengweitao.com/category/sheng-huo.html">生活</a></li>
            <li><a href="http://www.wengweitao.com/category/suan-fa-yu-shu-ju-jie-gou.html">算法与数据结构</a></li>
        </ul></nav><!-- /#menu -->
        <div class="box">
        
<section id="content">
<div class="posts">
    <ol id="post-list">
        
        <li>
            <article class="archive">
                <header> 
                    <h2 class="archive-entry-title">
                        <a href="http://www.wengweitao.com/bian-xie-gao-zhi-liang-pythondai-ma-2.html" rel="bookmark" title="Permalink to 编写高质量Python代码（2）">编写高质量Python代码（2）</a>
                    </h2> 
                </header>
                <footer class="post-info">
                    <abbr>
                      Tue 07 April 2015 
                         By <a class="url fn" href="http://www.wengweitao.com/author/wwt.html">wwt</a>
  
                    </abbr>
                    <div class="entry-summary"> <h3>建议8： 利用assert语句来发现问题</h3>
<p>assert语句主要为调试程序服务，能够快速方便地检查程序的异常或者发现不恰当的输入等，防止意想不到的情况出现。
基本语法如下：</p>
<div class="highlight"><pre><span class="k">assert</span> <span class="n">expression1</span> <span class="p">[</span><span class="s">&quot;,&quot;</span> <span class="n">expression2</span><span class="p">]</span> 
<span class="c">#assert x == y, &quot;not equals&quot;</span>
</pre></div>


<p>其中计算expressi1的值若为False则会引发一个AssertionError，expression是可选的，用来传递具体的异常信息。</p>
<p>另外，需要注意的是断言是对程序的性能有一定的影响，禁用断言的方法是运行时加上 -O标志。</p>
<h3>建议9： 交换值时不推荐使用中间变量</h3>
<div class="highlight"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">timeit</span> <span class="kn">import</span> <span class="n">Timer</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">Timer</span><span class="p">(</span><span class="s">&#39;temp = x; x = y; y = temp&#39;</span><span class="p">,</span> <span class="s">&#39;x = 2; y = 3&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">timeit</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="mf">0.054762504979284254</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">Timer ...</span></pre></div>
                    <a href="http://www.wengweitao.com/bian-xie-gao-zhi-liang-pythondai-ma-2.html">read more</a></div>
                </footer><!-- /.post-info -->
                <!-- /.entry-content -->
            </article>
        </li>
        
        <li>
            <article class="archive">
                <header> 
                    <h2 class="archive-entry-title">
                        <a href="http://www.wengweitao.com/pythondai-ma-ge-shi-hua-gong-ju-yapf.html" rel="bookmark" title="Permalink to Python代码格式化工具——YAPF">Python代码格式化工具——YAPF</a>
                    </h2> 
                </header>
                <footer class="post-info">
                    <abbr>
                      Tue 07 April 2015 
                         By <a class="url fn" href="http://www.wengweitao.com/author/wwt.html">wwt</a>
  
                    </abbr>
                    <div class="entry-summary"> <blockquote>
<p><a href="https://github.com/google/yapf">YAPF</a>是Google开源的一个工具，可以用来格式化Python代码，使Python代码拥有一致的编程风格，减轻了团队或者个人进行代码风格维护的单调的工作。</p>
</blockquote>
<h3>介绍</h3>
<p>之前已经有一些类似的Python代码风格格式化工具如：<a href="https://github.com/hhatto/autopep8">autopep8</a>和<a href="https://github.com/spulec/pep8ify">pep8ify</a>等。这些工具基于<a href="http://clang.llvm.org/docs/ClangFormat.html">clang-format</a>,能够很好的解决大多数pep8报告的格式问题。然而，有些代码虽然遵从了PEP8的编程风格指南，但这并不意味着这些代码看起来就足够好，对于这种问题之前的那些Python代码格式化工具就无能为力了。
YAPF与其他的格式化工具不同，其算法能够把代码重新格式化为符合编程风格的最佳格式，无论原始的代码是否违法了某种指定的编程风格指南。YAPF的最终目标就是通过YAPF格式化后的代码能够与程序员完全遵从编程风格写的代码一样的好。</p>
<h3>YAPF的使用</h3>
<h4>1.安装</h4>
<p>可以直接通过pip进行安装：</p>
<div class="highlight"><pre><span class="n">pip</span> <span class="n">install</span> <span class="n">yapf</span>
</pre></div>


<h4>2.使用。</h4>
<p>安装完成之后，就可以直接在命令行中使用了。
以下是yapf的命令行参数：</p>
<div class="highlight"><pre><span class="n">usage</span><span class="o">:</span> <span class="n">yapf</span> <span class="o">[-</span><span class="n">h</span><span class="o">]</span> <span class="o">[--</span><span class="n">style</span> <span class="n">STYLE</span><span class="o">]</span> <span class="o">[-</span><span class="n">d</span> <span class="o">|</span> <span class="o">-</span><span class="n">i</span><span class="o">]</span> <span class="o">[-</span><span class="n">l</span> <span class="n">START</span><span class="o">-</span><span class="n">END</span> <span class="o">|</span> <span class="o">-</span><span class="n">r</span><span class="o">]</span> <span class="o">...</span>

<span class="n">Formatter</span> <span class="k">for</span> <span class="n">Python</span> <span class="n">code</span><span class="o">.</span>

<span class="n">positional ...</span></pre></div>
                    <a href="http://www.wengweitao.com/pythondai-ma-ge-shi-hua-gong-ju-yapf.html">read more</a></div>
                </footer><!-- /.post-info -->
                <!-- /.entry-content -->
            </article>
        </li>
        
        <li>
            <article class="archive">
                <header> 
                    <h2 class="archive-entry-title">
                        <a href="http://www.wengweitao.com/bian-xie-gao-zhi-liang-pythondai-ma-1.html" rel="bookmark" title="Permalink to 编写高质量Python代码（1）">编写高质量Python代码（1）</a>
                    </h2> 
                </header>
                <footer class="post-info">
                    <abbr>
                      Mon 06 April 2015 
                         By <a class="url fn" href="http://www.wengweitao.com/author/wwt.html">wwt</a>
  
                    </abbr>
                    <div class="entry-summary"> <blockquote>
<p>去年参加了珠海的PyCon大会，幸运地抽中了三本书，其中一本是《编写高质量代码：改善Python程序的91个建议》。本书从多个方面给出了编写高质量Python代码的91个建议，我把每一章的建议都先总结下来，分享给大家。</p>
</blockquote>
<h3>建议1： 理解Pythonic概念</h3>
<h4>（1）Pythonic的定义</h4>
<p>遵循Pythonic的代码看起来像伪代码：</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">quicksort</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
    <span class="n">less</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">greater</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">array</span>
    <span class="n">pivot</span> <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">array</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">pivot</span><span class="p">:</span>
            <span class="n">greater</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">less</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">quicksort</span><span class="p">(</span><span class="n">less</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="n">pivot</span><span class="p">]</span> <span class="o">+</span> <span class="n">quicksort</span><span class="p">(</span><span class="n">greater</span><span class="p">)</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__ ...</span></pre></div>
                    <a href="http://www.wengweitao.com/bian-xie-gao-zhi-liang-pythondai-ma-1.html">read more</a></div>
                </footer><!-- /.post-info -->
                <!-- /.entry-content -->
            </article>
        </li>
    </ol><!-- /#posts-list -->
</div>
<p class="paginator">
    Page 1 / 1
</p>
</section><!-- /#content -->
            <hr/>
            <footer id="contentinfo" class="footer">
                <div>
                    Copyright 2014-2016 <a href="http://www.wengweitao.com">wwt</a>  
                </div>
                <div>
                    powered by <a href="http://getpelican.com/">Pelican</a>
                    and <a href="http://python.org">Python</a>. 
                    <a href="http://github.com/slok/iris">Theme</a> by <a href="http://xlarrakoetxea.org">Xabier Larrakoetxea</a> based on <a href="http://flask.pocoo.org/">Flask</a> theme
                </div>
                
                <div class="social">
                        <a href="https://github.com/nurnoch"><i class="icon-github"></i>  </a>
                        <a href="http://twitter.com/wwttc"><i class="icon-twitter"></i>  </a>
                        <a href="http://www.facebook.com/100001903577931"><i class="icon-facebook"></i>  </a>
                        <a href="http://weibo.com/u/2678027854"><i class="icon-weibo"></i>  </a>
                </div>
            </footer><!-- /#contentinfo -->
        </div>
        <!--Add statistycs-->
</body>
</html>